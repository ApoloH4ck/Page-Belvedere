<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Valutazione Gratuita</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

    <section id="welcome" class="active">
        <div class="overlay"></div>
        <div class="welcome-content">
            <span class="tagline">VALUTAZIONE GRATUITA</span>
            <h1>Affida il tuo immobile a Belvedere Investimenti</h1>
            <p>
                Ti sei mai chiesto quanto potresti guadagnare davvero dal tuo appartamento? 
                Con Belvedere Investimenti trasformiamo ogni immobile in una rendita efficiente e senza stress. 
                Il nostro team si occupa di tutto, dalla valutazione alla gestione. 
                <br><br>
                Compila il form per scoprire il potenziale reale della tua casa. 
                Il tuo futuro inizia qui.
            </p>
            <button id="start-btn" class="btn-submit pulse">Avanti</button>
        </div>
    </section>

    <section id="form-section">
        <div class="container">
            <form id="contact-form">
                <div class="form-grid">
                    <div class="form-group full-width">
                        <label for="nome-cognome">Nome e Cognome</label>
                        <input type="text" id="nome-cognome" name="Nome e Cognome" placeholder="Mario Rossi" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="Email" placeholder="mario.rossi@email.it" required>
                    </div>
                    <div class="form-group">
                        <label for="telefono">Telefono</label>
                        <input type="tel" id="telefono" name="Telefono" placeholder="+39 123 4567890">
                    </div>
                    <div class="form-group">
                        <label for="citta">CittÃ </label>
                        <input type="text" id="citta" name="CittÃ " placeholder="Milano">
                    </div>
                    <div class="form-group">
                        <label for="indirizzo">Indirizzo</label>
                        <input type="text" id="indirizzo" name="Indirizzo" placeholder="Via Roma, 1">
                    </div>
                    <div class="form-group">
                        <label for="camere">Camere</label>
                        <input type="number" id="camere" name="Camere" placeholder="Numero di camere">
                    </div>
                    <div class="form-group">
                        <label for="bagni">Bagni</label>
                        <input type="number" id="bagni" name="Bagni" placeholder="Numero di bagni">
                    </div>
                    <div class="form-group full-width">
                        <label for="messaggio">Messaggio</label>
                        <textarea id="messaggio" name="Messaggio" placeholder="Scrivi qui il tuo messaggio..."></textarea>
                    </div>
                    
                    <div class="form-group full-width">
                        <label for="conosciuti">Dove ci hai conosciuti?</label>
                        <select id="conosciuti" name="Conosciuti">
                            <option value="">Seleziona...</option>
                            <option value="internet">Internet</option>
                            <option value="social">Social Media</option>
                            <option value="amici">Amici</option>
                            <option value="qr-volantino">QR Code / Volantino</option>
                        </select>
                    </div>
                </div>

                <div class="privacy">
                    <input type="checkbox" id="privacy" required>
                    <label for="privacy">
                        Accetto la <a href="#" target="_blank">privacy policy</a> e il trattamento dei miei dati personali.
                    </label>
                </div>

                <button type="submit" class="btn-submit">Invia</button>
            </form>
        </div>
    </section>

    <div id="success-modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <div class="modal-body">
                <h2 class="modal-title">Fantastico! ðŸŽ‰</h2>
                <p class="modal-message">
                    Grazie per la tua richiesta.
                </p>
                <p class="modal-phrase">
                    Il primo passo verso la tua rendita passiva Ã¨ stato fatto.
                </p>
            </div>
        </div>
    </div>

<script>
const welcome = document.getElementById('welcome');
const formSection = document.getElementById('form-section');
const startBtn = document.getElementById('start-btn');
const form = document.getElementById('contact-form');
const successModal = document.getElementById('success-modal');
const closeBtn = document.querySelector('.close-btn');

startBtn.addEventListener('click', () => {
    welcome.classList.add('fade-out');
    setTimeout(() => {
        welcome.style.display = 'none';
        formSection.style.display = 'block';
        formSection.classList.add('fade-in');
    }, 500);
});

function createConfetti() {
    const confettiColors = ['#f00', '#0f0', '#00f', '#ff0', '#f0f', '#0ff'];
    for (let i = 0; i < 50; i++) {
        const confetti = document.createElement('div');
        confetti.classList.add('confetti');
        
        // Posicionamiento relativo al modal
        confetti.style.left = Math.random() * 100 + '%';
        confetti.style.top = Math.random() * 100 + '%';
        
        confetti.style.animationDelay = Math.random() * 0.5 + 's';
        confetti.style.backgroundColor = confettiColors[Math.floor(Math.random() * confettiColors.length)];
        
        // Las variables CSS para la animaciÃ³n se mantienen
        confetti.style.setProperty('--x', (Math.random() - 0.5) * 200 + 'px');
        confetti.style.setProperty('--y', Math.random() * 200 + 'px');
        confetti.style.setProperty('--deg', Math.random() * 360 + 'deg');
        
        successModal.appendChild(confetti);
    }
}

form.addEventListener('submit', async (e) => {
  e.preventDefault();

  const formData = {
    NomeCognome: document.getElementById('nome-cognome').value,
    Email: document.getElementById('email').value,
    Telefono: document.getElementById('telefono').value,
    CittÃ : document.getElementById('citta').value,
    Indirizzo: document.getElementById('indirizzo').value,
    Camere: document.getElementById('camere').value,
    Bagni: document.getElementById('bagni').value,
    Messaggio: document.getElementById('messaggio').value,
    Conosciuti: document.getElementById('conosciuti').value
  };

  const scriptURL = 'https://script.google.com/macros/s/AKfycbxKcVuJo7VdMc4KOf-5xoHXGHQXx1B50wywRo_roKvpmHL50M7ckcHHubUgX8nBQuN8/exec';

  successModal.classList.add('show');
  createConfetti();
  form.reset();
  try {
    const response = await fetch(scriptURL, {
      method: 'POST',
      headers: { 'Content-Type': 'text/plain' },
      body: JSON.stringify(formData),
    });

    if (response.ok) {
      console.add('Modulo inviato con successo!');
    } else {
     console.add('Errore al inviare il modulo.');
    }
  } catch (error) {
    console.add('Modulo inviato con successo!');
    
  }

});

closeBtn.addEventListener('click', () => {
  successModal.classList.remove('show');
});

window.addEventListener('click', (event) => {
    if (event.target === successModal) {
        successModal.classList.remove('show');
    }
});
</script>

</body>
</html>
